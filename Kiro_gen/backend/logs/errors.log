{"timestamp": "2026-01-13T17:09:09.552244Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library stats: '>=' not supported between instances of 'str' and 'datetime.datetime'", "module": "library", "function": "get_library_stats", "line": 274, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:09:09.630832Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library: 503: Library manager not available", "module": "library", "function": "get_library", "line": 122, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:09:13.297791Z", "level": "ERROR", "logger": "src.processing.batch_processor", "message": "Failed batch job job_1: PDF corrupted", "module": "batch_processor", "function": "fail_job", "line": 174, "taskName": null}
{"timestamp": "2026-01-13T17:14:30.908674Z", "level": "ERROR", "logger": "src.storage.s3_manager", "message": "Failed to upload audio audio_1 to S3: An error occurred (AccessDenied) when calling the PutObject operation: Unknown", "module": "s3_manager", "function": "upload_audio", "line": 92, "taskName": null}
{"timestamp": "2026-01-13T17:14:43.221009Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library stats: '>=' not supported between instances of 'str' and 'datetime.datetime'", "module": "library", "function": "get_library_stats", "line": 274, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:14:43.349064Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library: 503: Library manager not available", "module": "library", "function": "get_library", "line": 122, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:27:07.068688Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library: 503: Library manager not available", "module": "library", "function": "get_library", "line": 122, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:27:09.214006Z", "level": "ERROR", "logger": "src.processing.batch_processor", "message": "Failed batch job job_1: PDF corrupted", "module": "batch_processor", "function": "fail_job", "line": 174, "taskName": null}
{"timestamp": "2026-01-13T17:32:03.494561Z", "level": "ERROR", "logger": "src.storage.s3_manager", "message": "Failed to upload audio audio_1 to S3: An error occurred (AccessDenied) when calling the PutObject operation: Unknown", "module": "s3_manager", "function": "upload_audio", "line": 92, "taskName": null}
{"timestamp": "2026-01-13T17:37:45.558237Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library: 503: Library manager not available", "module": "library", "function": "get_library", "line": 122, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:38:17.850277Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 5: Invalid PDF format", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-141"}
{"timestamp": "2026-01-13T17:38:17.850277Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "PDF extraction failed after retries", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-141", "pdf_path": "C:\\Users\\sudee\\AppData\\Local\\Temp\\tmpv6gltmvg.pdf", "error": "Invalid PDF format"}
{"timestamp": "2026-01-13T17:38:17.851278Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Comic processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-141", "job_id": "test_job_error", "error": "Failed to extract panels from PDF: Invalid PDF format", "processing_stats": {"panels_processed": 0, "api_calls_saved": 0, "total_duration": 0.0, "fallbacks_used": 0, "retries_attempted": 0}}
{"timestamp": "2026-01-13T17:38:44.254525Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 5: Bedrock API rate limit exceeded", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:38:47.195303Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: object MagicMock can't be used in 'await' expression", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:38:47.196271Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Audio fallback also failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-150", "job_id": "test_job_bedrock_error", "narrative_index": 0, "error": "'dict' object has no attribute 'voice_id'"}
{"timestamp": "2026-01-13T17:38:47.196271Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Batch processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-150", "job_id": "test_job_bedrock_error", "batch_number": 1, "error": "AudioSegment.__init__() got an unexpected keyword argument 'text'"}
{"timestamp": "2026-01-13T17:39:18.802658Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 5: Bedrock API rate limit exceeded", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:39:21.304993Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: object MagicMock can't be used in 'await' expression", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:39:21.305982Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Audio fallback also failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-150", "job_id": "test_job_bedrock_error", "narrative_index": 0, "error": "'dict' object has no attribute 'voice_id'"}
{"timestamp": "2026-01-13T17:39:21.306997Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Individual panel processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-150", "job_id": "test_job_bedrock_error", "panel_id": "panel_1", "error": "AudioSegment.__init__() got an unexpected keyword argument 'text'"}
{"timestamp": "2026-01-13T17:39:22.890545Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: 'LibraryManager' object has no attribute 'store_audio'", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:39:22.942771Z", "level": "ERROR", "logger": "src.error_handling.fallback_handler", "message": "All S3 fallbacks failed", "module": "fallback_handler", "function": "handle_s3_fallback", "line": 268, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:39:22.942771Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Comic processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-150", "job_id": "test_job_bedrock_error", "error": "All storage options failed", "processing_stats": {"panels_processed": 0, "api_calls_saved": 0, "total_duration": 0.0, "fallbacks_used": 2, "retries_attempted": 0}}
{"timestamp": "2026-01-13T17:39:22.943764Z", "level": "ERROR", "logger": "src.processing.batch_processor", "message": "Failed batch job test_job_bedrock_error: All storage options failed", "module": "batch_processor", "function": "fail_job", "line": 174, "taskName": "Task-150"}
{"timestamp": "2026-01-13T17:39:26.158052Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: Polly service unavailable", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-159"}
{"timestamp": "2026-01-13T17:39:26.160099Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Audio fallback also failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-159", "job_id": "test_job_polly_error", "narrative_index": 0, "error": "'dict' object has no attribute 'voice_id'"}
{"timestamp": "2026-01-13T17:39:26.161117Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Batch processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-159", "job_id": "test_job_polly_error", "batch_number": 1, "error": "AudioSegment.__init__() got an unexpected keyword argument 'text'"}
{"timestamp": "2026-01-13T17:39:29.252654Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: Polly service unavailable", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-159"}
{"timestamp": "2026-01-13T17:39:29.252654Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Audio fallback also failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-159", "job_id": "test_job_polly_error", "narrative_index": 0, "error": "'dict' object has no attribute 'voice_id'"}
{"timestamp": "2026-01-13T17:39:29.253618Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Individual panel processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-159", "job_id": "test_job_polly_error", "panel_id": "panel_1", "error": "AudioSegment.__init__() got an unexpected keyword argument 'text'"}
{"timestamp": "2026-01-13T17:39:31.033858Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: 'LibraryManager' object has no attribute 'store_audio'", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-159"}
{"timestamp": "2026-01-13T17:39:31.045114Z", "level": "ERROR", "logger": "src.error_handling.fallback_handler", "message": "All S3 fallbacks failed", "module": "fallback_handler", "function": "handle_s3_fallback", "line": 268, "taskName": "Task-159"}
{"timestamp": "2026-01-13T17:39:31.045658Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Comic processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-159", "job_id": "test_job_polly_error", "error": "All storage options failed", "processing_stats": {"panels_processed": 0, "api_calls_saved": 0, "total_duration": 0.0, "fallbacks_used": 0, "retries_attempted": 0}}
{"timestamp": "2026-01-13T17:39:31.046186Z", "level": "ERROR", "logger": "src.processing.batch_processor", "message": "Failed batch job test_job_polly_error: All storage options failed", "module": "batch_processor", "function": "fail_job", "line": 174, "taskName": "Task-159"}
{"timestamp": "2026-01-13T17:39:33.111372Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 3: S3 bucket not accessible", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-168"}
{"timestamp": "2026-01-13T17:39:33.119409Z", "level": "ERROR", "logger": "src.error_handling.fallback_handler", "message": "All S3 fallbacks failed", "module": "fallback_handler", "function": "handle_s3_fallback", "line": 268, "taskName": "Task-168"}
{"timestamp": "2026-01-13T17:39:33.119409Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Comic processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-168", "job_id": "test_job_storage_error", "error": "All storage options failed", "processing_stats": {"panels_processed": 1, "api_calls_saved": 0, "total_duration": 0.0, "fallbacks_used": 0, "retries_attempted": 0}}
{"timestamp": "2026-01-13T17:39:33.120412Z", "level": "ERROR", "logger": "src.processing.batch_processor", "message": "Failed batch job test_job_storage_error: All storage options failed", "module": "batch_processor", "function": "fail_job", "line": 174, "taskName": "Task-168"}
{"timestamp": "2026-01-13T17:39:37.211203Z", "level": "ERROR", "logger": "src.api.library", "message": "Error getting library: 503: Library manager not available", "module": "library", "function": "get_library", "line": 122, "taskName": "anyio.from_thread.BlockingPortal._call_func"}
{"timestamp": "2026-01-13T17:40:12.228007Z", "level": "ERROR", "logger": "src.error_handling.retry_handler", "message": "Non-retryable error on attempt 5: Invalid PDF format", "module": "retry_handler", "function": "execute_with_retry", "line": 142, "taskName": "Task-141"}
{"timestamp": "2026-01-13T17:40:12.228007Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "PDF extraction failed after retries", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-141", "pdf_path": "C:\\Users\\sudee\\AppData\\Local\\Temp\\tmpuqp4zoow.pdf", "error": "Invalid PDF format"}
{"timestamp": "2026-01-13T17:40:12.228993Z", "level": "ERROR", "logger": "src.processing.pipeline_orchestrator", "message": "Comic processing failed", "module": "logger", "function": "_log_with_context", "line": 182, "taskName": "Task-141", "job_id": "test_job_error", "error": "Failed to extract panels from PDF: Invalid PDF format", "processing_stats": {"panels_processed": 0, "api_calls_saved": 0, "total_duration": 0.0, "fallbacks_used": 0, "retries_attempted": 0}}
{"timestamp": "2026-01-13T17:40:30.148526Z", "level": "ERROR", "logger": "asyncio", "message": "Task was destroyed but it is pending!\ntask: <Task pending name='Task-150' coro=<TestEndToEndWorkflow.test_workflow_with_bedrock_error() running at D:\\AI\\VisionIreland_DUB14\\Kiro_gen\\backend\\tests\\integration\\test_end_to_end_workflow.py:226> wait_for=<Future pending cb=[Task.task_wakeup()]>>", "module": "base_events", "function": "default_exception_handler", "line": 1785, "taskName": null}
